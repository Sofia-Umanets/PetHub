{% extends '_base.html' %}
{% load static %}
{% block title %}–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pets.css' %}">
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/pet_form.js' %}"></script>
{% endblock %}

{% block content %}
<h1>–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞</h1>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
{% endif %}

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="card">
        <label>–ò–º—è:</label><br>
        <input type="text" name="name" required><br><br>

        <label>–¢–∏–ø –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:</label><br>
        <select id="pet_type" name="pet_type" required onchange="toggleCustomPetType()">
            <option value="dog">üê∂ –°–æ–±–∞–∫–∞</option>
            <option value="cat">üê± –ö–æ—à–∫–∞</option>
            <option value="bird">üê¶ –ü—Ç–∏—Ü–∞</option>
            <option value="rodent">üêπ –ì—Ä—ã–∑—É–Ω</option>
            <option value="rabbit">üê∞ –ö—Ä–æ–ª–∏–∫</option>
            <option value="reptile">üêç –†–µ–ø—Ç–∏–ª–∏—è</option>
            <option value="fish">üê† –†—ã–±–∫–∞</option>
            <option value="other">‚ùì –î—Ä—É–≥–æ–µ (—É–∫–∞–∑–∞—Ç—å)</option>
        </select><br><br>

        <div id="custom_pet_type_group" style="display: none;">
            <label>–£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:</label><br>
            <input type="text" id="custom_pet_type" name="custom_pet_type" 
                   placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ö–æ—Ä—ë–∫, —á–µ—Ä–µ–ø–∞—Ö–∞, –∏–≥—É–∞–Ω–∞..."><br><br>
        </div>

        <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label><br>
        <input type="date" name="birthday" required max="{% now 'Y-m-d' %}" 
        oninvalid="this.setCustomValidity('–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º')"
        oninput="this.setCustomValidity('')"><br><br>

        <label>–í–µ—Å (–≤ –∫–≥):</label><br>
        <input type="number" name="weight" step="0.1"><br><br>

        <label>–ü–æ—Ä–æ–¥–∞:</label><br>
        <input type="text" name="breed"><br><br>

        <label>–ü–æ–ª:</label><br>
        <select name="gender">
            <option value="" selected>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
            <option value="M">–ú–∞–ª—å—á–∏–∫</option>
            <option value="F">–î–µ–≤–æ—á–∫–∞</option>
        </select><br><br>

        <label>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</label><br>
        <textarea name="features" placeholder="–£–∫–∞–∂–∏—Ç–µ –∞–ª–ª–µ—Ä–≥–∏–∏, —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∏—Ç–æ–º—Ü–∞" rows="4" style="width: 100%;"></textarea><br><br>

        <label>–§–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label><br>
        <input type="file" name="photo"><br><br>
        
        <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
</form>

{% endblock %}
